<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2í•™ë…„1ë°˜</title>
  <style>
    canvas {
      border: 1px solid black;
      display: block;
      margin: 0 auto;
      background-image: url('https://lh3.googleusercontent.com/pw/ABLVV87jEyUH6mXIqD_2yaAaqhH3J_gxPaZRc3C_7s1-0OXiUORpCbhEqD5HD-UQoYryolhFXoOVa9iFxNMD-eO5Kb5NQmLVzXpfhcdbhZPO6Kq3F9cWURw2EPisQGwwoy0wgOHLyWh78O48NMeCE-qNzQrT=w561-h348-s-no-gm?authuser=0'); background-size: cover; display: block;
    }
  </style>
</head>
<body>      
    <img id="rockImage" src="https://lh3.googleusercontent.com/pw/ABLVV86BX98nGc1DL10PNjLLyynezLaVG7VgcnNEYLfe9psSyu71GenJk3KP7lUrM61a45Pl06srCbYBmjkOc7rB0_5kWoQQ17hi84lMfT3Vl43ppkA3P2uUjwYFA9ka9arV1ZXrznBWykH-6h5JKpeonEKC=w258-h288-s-no-gm?authuser=0" style="display: none;">
  <canvas id="gameCanvas" width="600" height="600"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    const player = {
      x: canvas.width / 2,
      y: canvas.height - 30,
      width: 20,
      height: 20,
      speed: 5,
      dx: 0,
      dy: 0
    };

    let obstacles = [];
    let gameOver = false;

    function drawPlayer() {
      ctx.fillStyle = 'blue';
      ctx.fillRect(player.x, player.y, player.width, player.height);
    }

    function drawObstacles() {
      ctx.fillStyle = 'black';
      ctx.font = '20px Arial';
      for (let obstacle of obstacles) {
        ctx.fillRect(obstacle.x, obstacle.y, obstacle.width, obstacle.height);
        ctx.fillStyle = 'white'; // í…ìŠ¤íŠ¸ ìƒ‰ìƒì„ ë¹¨ê°„ìƒ‰ìœ¼ë¡œ ë³€ê²½
        ctx.fillText(obstacle.value, obstacle.x + 2, obstacle.y + 21);
        ctx.fillStyle = 'black';
      }
    }

    function movePlayer() {
      player.x += player.dx;
      player.y += player.dy;

      if (player.x < 0) {
        player.x = 0;
      }
      if (player.x > canvas.width - player.width) {
        player.x = canvas.width - player.width;
      }
      if (player.y < 0) {
        player.y = 0;
      }
      if (player.y > canvas.height - player.height) {
        player.y = canvas.height - player.height;
      }
    }
    num=Math.floor(Math.random()*texts.length)
    texts=[
        'ì†”ì§íˆ ë§¤ì¼, ë§¤ì¼ ë°©í–¥ì¡ì•„ì£¼ê³  ë‹¤ í•˜ì–ì•„ ',
        'êµ³ì´ ë„ˆí¬êº¼  ê¸°ë‹¤ë¦´ í•„ìš”ëŠ” ì—†ì–´... ',
        'ì§„ì§œ ì–¼ë§Œí¼ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ê±°ë‹ˆ??...',
        'ì¼ë‹¨ ì§€ê¸ˆê¹Œì§€í•œê±°ë³´ë‚´ë´¥',
        'ì ˆëŒ€ ì´ê±¸ë¡œ ëŒ€í•™ì„ ê²°ì •í•˜ëŠ”ê±´ ì•„ë‹ˆì•¼~~',
        'ìŒ¤ ì‹¤ëˆˆëœ¨ê³  ì“°ëŠ”ê±°ë‹ˆê¹Œ ê°€ë§Œí•´^^',
        'í•™ê¸° ë§ ë‹´ì„êµì‚¬ì™€ ì•½ê°„ì˜ê°ˆë“±ì´ ìˆì—ˆìŒ^^',
        'ì˜¤ëŠ˜ ë‚´ì•¼í•œë°ì´',
        '(ë„ˆì˜ ìƒê¸°ë¶€)ì¬í™œìš©í•´ì•¼í•´',
        'ìŒ¤ ì§„ì§œ í¬ê¸° í• ê¹Œ...0.0',
        'ì§„ì§œ ì„ ìƒë‹˜ í™”ë‚ ê²ƒ ê°™ë‹¤',
        'ìŒ¤ì´ ëˆˆ ìˆ˜ìˆ ì„í•´ì„œ',
        'ë‚˜ ê·¸ëƒ¥ ë¹ˆì¹¸í•´ ?? ã…‹ã„´ã„´ã„´ã„´ã„´',
        'ğŸ¤ê°ìê°™ì€ 2í•™ë…„ğŸ¤',
        'ì œë°œ ìƒê°í•˜ê³  í–‰ë™í•˜ì„¸ìš”.',
        'ì–˜ë“¤ì•„ ë‚´ìš©ì¶”ê°€ í•¨ë¶€ë¡œ í•˜ì§€ë§ê³ ',
        'ë‚´ê°€ë³¼ë• ìŒ¤ì´ ìˆ˜ì •í•œê±°ë„£ì–´ì•¼ë¼',
        ' ì§„ì§œ ì˜¤ëŠ˜ê¹Œì§€ ì•„ë‹ˆë©´ ìŒ¤ ëª»í•´ ~ ì§„ì§œ ',
        'ì—†ìœ¼ë©´ ììœ¨ ê·¸ëƒ¥ ë„£ëŠ”ë‹¤ 1358ë°”ì´íŠ¸ë¡œ ~ ',
        '. ìŒ¤ë„ ìƒˆí•™ê¸° ì—…ë¬´ í•´ì•¼í•˜ë‹ˆê¹Œ',
        'ì§„ì§œ ì‹œê°„ ë§ì´ ì¤€ê²ƒ ê°™ê±°ë“ !!',
        'ì´ê±´ ë¯¸ë¼í´ ì „í˜•ì´ ì•„ë‹ˆì•¼',
        'ìˆ˜ì •ì´ë¼ëŠ”ê²Œ ë­˜ ë§í•˜ëŠ”ê±°ì§• ..9,9',
        'ì§„ì§€í•˜ê²Œ ì§‘ê°€ì„œ ê³µë¶€í•´',
        ' ì°¨ë¼ë¦¬ ìˆ˜í•™ 10ë¬¸ì œ ë”í‘¸ëŠ”ê²Œ ë§ì•„ ì§„ì§œ',
        'ë¸ëª… ì•½ì†í–ˆë‹¤!',
    ]
    function generateObstacle() {
      const width = 410;
      num=num+Math.floor(Math.random() * 3)+1
      const obstacle1 = {
        x: (Math.round(Math.random()*6)/6 *1.5 -0.25) * (canvas.width - width),
        y: 0,
        width: width,
        height: 30,
        value: texts[num%texts.length]
      };
 
      obstacles.push(obstacle1);
    }

    function moveObstacles() {
      for (let obstacle of obstacles) {
        obstacle.y += 1.8;
        if (obstacle.y > canvas.height) {
          obstacles.shift();
        }
        if (
          player.x < obstacle.x + obstacle.width &&
          player.x + player.width > obstacle.x &&
          player.y < obstacle.y + obstacle.height &&
          player.y + player.height > obstacle.y
        ) {
          gameOver = true;
          alert('ì´ë²ˆì‹œê°„ë§ˆì¹˜ê³  ì„ ìƒë‹˜í•œí…Œì™€ë´');
          document.location.reload();
        }
      }
    }

    function draw() {
      if (!gameOver) {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawPlayer();
        drawObstacles();
        movePlayer();
        moveObstacles();
        requestAnimationFrame(draw);
      }
    }

    document.addEventListener('keydown', function (event) {
      const key = event.key.toLowerCase();
      if (key === 'a') {
        player.dx = -player.speed;
      } else if (key === 'd') {
        player.dx = player.speed;
      } else if (key === 'w') {
        player.dy = -player.speed;
      } else if (key === 's') {
        player.dy = player.speed;
      }
    });

    document.addEventListener('keyup', function (event) {
      const key = event.key.toLowerCase();
      if (key === 'a' || key === 'd') {
        player.dx = 0;
      } else if (key === 'w' || key === 's') {
        player.dy = 0;
      }
    });

    setInterval(generateObstacle, 1700);
    draw();
  </script>
</body>
</html>
